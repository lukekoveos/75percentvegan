{{ define "main" }}

<!-- Hero Section -->
<div class="hero-section" style="background: linear-gradient(135deg, rgba(45,80,22,0.92) 0%, rgba(74,122,43,0.88) 100%), url('/images/hero.jpg') center/cover no-repeat;">
  <h1>75% IS ENOUGH</h1>
  <p class="tagline">Eat mostly plants. Skip the guilt. Make a difference.</p>
  <div class="hero-cta">
    <a href="/philosophy/" class="primary-btn">Learn Why â†’</a>
    <a href="/recipes/" class="secondary-btn">Browse Recipes</a>
  </div>
</div>

<!-- The Math Section -->
<div class="stats-section">
  <div class="stat-item">
    <div class="number">1</div>
    <div class="label">person going 100% vegan</div>
  </div>
  <div class="stat-item">
    <div class="number">VS</div>
    <div class="label">&nbsp;</div>
  </div>
  <div class="stat-item">
    <div class="number">4</div>
    <div class="label">people going 75% plant-based</div>
  </div>
</div>
<p style="text-align: center; color: var(--text-muted); margin-top: -1rem; margin-bottom: 2rem;">
  <strong>The second option is 3Ã— the impact</strong> â€” and it's achievable for everyone.
</p>

<!-- Featured Recipes -->
<div class="section-header">
  <h2>ğŸ³ Featured Recipes</h2>
  <a href="/recipes/">View all â†’</a>
</div>

<div class="recipe-grid">
  {{ $recipes := where .Site.RegularPages "Section" "recipes" }}
  {{ range first 3 $recipes }}
  <a href="{{ .RelPermalink }}" class="recipe-card" style="text-decoration: none; color: inherit;">
    {{ $image := .Params.image }}
    {{ if $image }}
    <img src="{{ $image }}" alt="{{ .Title }}" style="width: 100%; height: 200px; object-fit: cover;">
    {{ else }}
    <div style="height: 200px; background: linear-gradient(135deg, #2D5016 0%, #4A7A2B 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">
      ğŸ¥—
    </div>
    {{ end }}
    <div class="card-content">
      <h3>{{ .Title }}</h3>
      <div class="meta">
        {{ if .Params.prepTime }}<span>â±ï¸ {{ .Params.prepTime }}</span>{{ end }}
        {{ if .Params.difficulty }}<span>ğŸ“Š {{ .Params.difficulty | title }}</span>{{ end }}
        {{ if .Params.cost }}<span>ğŸ’° {{ .Params.cost }}</span>{{ end }}
      </div>
      <p style="margin: 0; color: var(--text-muted); font-size: 0.9rem;">
        {{ .Description | truncate 120 }}
      </p>
      {{ if in .Params.tags "signature" }}
      <span class="badge badge-signature" style="margin-top: 0.75rem;">â­ Signature</span>
      {{ end }}
    </div>
  </a>
  {{ end }}
</div>

<!-- Philosophy Preview -->
<div style="background: var(--bg-warm); padding: 2rem; border-radius: 12px; margin: 3rem 0;">
  <h2 style="color: var(--primary); margin-top: 0;">ğŸŒ± The Philosophy</h2>
  <blockquote style="font-size: 1.2rem; font-style: italic; border-left: 4px solid var(--accent); padding-left: 1.5rem; margin: 1.5rem 0;">
    "You don't need to be perfect. You need to be consistent.<br>
    You don't need to convert. You need to reduce.<br>
    You don't need guilt. You need practical strategies."
  </blockquote>
  <p>
    <strong>Progress over perfection.</strong> That's the whole idea.
  </p>
  <a href="/philosophy/" style="color: var(--accent); font-weight: 600;">Read the full philosophy â†’</a>
</div>

<!-- Music Section (if SoundCloud is configured) -->
{{ if .Site.Params.soundcloudUrl }}
<div class="soundcloud-section">
  <h2>ğŸµ The 75% Vegan Soundtrack</h2>
  <p>Music from the movement. Listen while you cook.</p>
  <iframe 
    width="100%" 
    height="300" 
    scrolling="no" 
    frameborder="no" 
    allow="autoplay"
    src="https://w.soundcloud.com/player/?url={{ .Site.Params.soundcloudUrl | urlquery }}&color=%232D5016&auto_play=false&hide_related=true&show_comments=false&show_user=true&show_reposts=false&show_teaser=false">
  </iframe>
</div>
{{ end }}

<!-- Latest Blog -->
<div class="section-header" style="margin-top: 3rem;">
  <h2>ğŸ“ Latest from the Blog</h2>
  <a href="/blog/">View all â†’</a>
</div>

{{ $posts := where .Site.RegularPages "Section" "blog" }}
{{ range first 2 $posts }}
<article style="background: white; padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
  <h3 style="margin: 0 0 0.5rem 0;">
    <a href="{{ .RelPermalink }}" style="color: var(--primary); text-decoration: none;">{{ .Title }}</a>
  </h3>
  <p style="color: var(--text-muted); margin: 0.5rem 0;">
    {{ .Description | default (.Summary | plainify | truncate 150) }}
  </p>
  <a href="{{ .RelPermalink }}" style="color: var(--accent); font-weight: 500;">Read more â†’</a>
</article>
{{ end }}

<!-- CTA -->
<div style="text-align: center; padding: 3rem 2rem; background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%); border-radius: 12px; margin-top: 3rem; color: white;">
  <h2 style="margin-top: 0; color: white;">Ready to start?</h2>
  <p style="opacity: 0.95; font-size: 1.1rem;">Cook big. Freeze smart. Be kind to your future self â€” and the planet.</p>
  <a href="/recipes/" style="display: inline-block; background: var(--accent); color: white; padding: 0.8rem 2rem; border-radius: 50px; font-weight: 600; text-decoration: none; margin-top: 1rem;">
    Browse Recipes â†’
  </a>
</div>

{{ end }}
