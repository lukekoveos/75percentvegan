{{ define "main" }}
<header class="page-header">
  {{ partial "breadcrumbs.html" . }}
  <h1>{{ .Title }}</h1>
  {{- if .Description }}
  <div class="post-description">
    {{ .Description }}
  </div>
  {{- end }}
  {{- if .Content }}
  <div class="post-content">
    {{ .Content }}
  </div>
  {{- end }}
</header>

<div class="recipe-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 2rem;">
  {{ range .Pages }}
  <a href="{{ .RelPermalink }}" class="recipe-card" style="text-decoration: none; color: inherit; background: var(--entry); border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.08); transition: transform 0.2s, box-shadow 0.2s;">
    {{ if .Params.image }}
    <img src="{{ .Params.image }}" alt="{{ .Title }}" style="width: 100%; height: 200px; object-fit: cover;">
    {{ else }}
    <div style="height: 200px; background: linear-gradient(135deg, #2D5016 0%, #4A7A2B 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">
      ğŸ¥—
    </div>
    {{ end }}
    <div style="padding: 1.25rem;">
      <h3 style="margin: 0 0 0.5rem 0; color: var(--primary);">{{ .Title }}</h3>
      <div style="display: flex; gap: 0.75rem; flex-wrap: wrap; font-size: 0.85rem; color: var(--secondary); margin-bottom: 0.75rem;">
        {{ with .Params.prepTime }}<span>â±ï¸ {{ . }}</span>{{ end }}
        {{ with .Params.difficulty }}<span>ğŸ“Š {{ . | title }}</span>{{ end }}
        {{ with .Params.cost }}<span>ğŸ’° {{ . }}</span>{{ end }}
      </div>
      <p style="margin: 0; color: var(--secondary); font-size: 0.9rem; line-height: 1.5;">
        {{ .Description | truncate 120 }}
      </p>
      {{ if in .Params.tags "signature" }}
      <span style="display: inline-block; margin-top: 0.75rem; background: var(--accent); color: white; padding: 0.2rem 0.75rem; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">â­ Signature</span>
      {{ end }}
    </div>
  </a>
  {{ end }}
</div>

<style>
.recipe-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.12) !important;
}
</style>

{{ end }}
